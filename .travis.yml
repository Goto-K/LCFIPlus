language: cpp

compiler:
  - gcc
  - clang

script: cmake

before_install:
  - echo $LANG
  - echo $LC_ALL
  - sudo apt-get update
  - sudo apt-get install -y default-jre default-jdk
  - export JDK_HOME=/usr
  - svn co https://svnsrv.desy.de/public/ilctools/ilcinstall/trunk/ ilcinstall
  - cd ilcinstall
  - sed -i 's#ilcsoft_install_prefix = "/scratch/$USER/ilcsoft/"#ilcsoft_install_prefix = "$HOME/PACKAGES"#' examples/lcfiplus/release-versions.py
  - cat examples/lcfiplus/release-versions.py
  - sed -i "s#ilcsoft.use(ROOT(os.environ\['ROOTSYS'\]))#ilcsoft.install\(ROOT\(ROOT_version\)\)#" examples/lcfiplus/release-scratch.cfg
  - sed -i 's/http:/https:/' ilcsoft/root.py
  - mkdir -p $HOME/PACKAGES/v01-17-01-pre02
  - python ilcsoft-install -i examples/lcfiplus/release-scratch.cfg


os:
  - linux

